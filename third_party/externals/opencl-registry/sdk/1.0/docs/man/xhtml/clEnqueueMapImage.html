<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "xhtml1-transitional.dtd">
<!-- saved from url=(0013)about:internet -->
<?xml-stylesheet type="text/xsl" href="mathml.xsl"?><html xmlns="http://www.w3.org/1999/xhtml" xmlns:pref="http://www.w3.org/2002/Math/preference" xmlns:xlink="http://www.w3.org/1999/xlink" pref:renderer="mathplayer-dl">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <style xmlns="" type="text/css">
    /* This style sets a margin around the entire page */
        html, body {
            margin: 10px;
        }

        p {
            font: normal 16px verdana, sans-serif;
            margin: 0;
            padding-bottom:12px;
        }

        h1 {
            font: bold 25px verdana, sans-serif;
            margin-top: 0;
            margin-bottom: 3px;
            padding-top: 0;
            padding-bottom: 0;
        }

        h2 {
            font: bold 19px verdana, sans-serif;
            margin-top: 28px;
            margin-bottom: 3px;
            padding-top: 0; 
            padding-bottom: 0;
        }

        h3 {
            font: bold 19px verdana, sans-serif !important;
            margin-top: 28px;
            margin-bottom: 3px;
            padding-top: 0;
            padding-bottom: 0;
        }

        li {
            font: normal 16px verdana, sans-serif;
            margin-top: 0;
            margin-bottom: 18px;
            padding-top: 0;
            padding-bottom: 0;
        }

        .pdparam {
            font: italic 16px verdana, sans-serif;
        }
		
		.term {
			font: italic 16px verdana, sans-serif;
			font-weight: normal;
		}	
		
		.type {
			font: normal 16px verdana, sans-serif !important;
		}			
		
		.parameter { 
			font-style: italic; 
			}

        a:link, a:visited {
            color: blue;
            text-decoration: none;
            font: normal 16px;
        }

        a:hover {
            background-color: #FFFF99;
            font: normal 16px;
        }

        div.funcsynopsis {
            text-align: left;
            background-color: #e6e6e6;
            font: normal 16px verdana, sans-serif;
			padding-top: 10px;
			padding-bottom: 10px;
        }

        div.funcsynopsis table {
            border-collapse: separate;
            font: normal 16px verdana, sans-serif;
        }

        div.funcsynopsis td {
            background-color: #e6e6e6;
            border: 0 solid #000;
            padding: 1px;
            font: normal 16px verdana, sans-serif;
        }

        div.refsect1 {
            font-family: verdana, sans-serif;
            font-size: 16px;
        }

        code.constant {
            font: normal 16px courier new, monospace !important;
        }
		
		span.errorname {
            font: normal 16px verdana, sans-serif !important;
        }

        code.function {
            font: bold 16px verdana, sans-serif !important;
        }
		
        b.fsfunc {
            font: bold 16px verdana, sans-serif !important;
        }
		
        code.varname {
            font: italic 16px verdana, sans-serif;
        }

        code.replaceable {
            font: italic 16px courier new, monospace;
        }

        code.funcdef {
            font: normal 16px verdana, sans-serif !important;
        }

        .citerefentry {
            font: normal 16px verdana, sans-serif !important;
        }

        .parameter {
            font-style: italic;
        }

        code.fsfunc {
            font: normal 16px verdana, sans-serif !important;
        }

        /* PARAMETER: This style controls spacing between the terms in Parameter section */
        dt {
            margin-top: 15px;
        }

        /* TABLES: These styles apply to all tables OTHER than the Synopsis and Example tables */
        div.refsect1 table {
            width: 100%;
			margin-top: 10px;
            background-color: #FFF;
			border-collapse: collapse;
			border-color: #000;
            border-width: 1px;
			font: normal 16px verdana, sans-serif;
        }
		
        div.refsect1 th {
			border-collapse: collapse;
			border-color: #000;
            border-width: 1px;
            font: bold 16px verdana, sans-serif;
        }
		
        div.refsect1 td {
            background-color: #FFF;
            padding: 5px;
            vertical-align: text-top;
			border-collapse: collapse;
			border-color: #000;
            border-width: 1px;
            font: normal 16px verdana, sans-serif;
        }
		
		  div.refsect1 p{
            font: normal 16px verdana, sans-serif;
            margin-top: 8px;
            margin-bottom: 8px;
            padding-top: 0;
            padding-bottom: 0;
        }
		

        /* EXAMPLE: These styles apply only to the Example section */
        div.refsect2 {
            font: normal 16px courier new, monospace !important;
        }

        div.refsect2 table {
            margin-top: 0;
            background-color: #e6e6e6;
            width: 100%;
            border: 0 solid #000;
            padding: 2px;
            font: normal 16px courier new, monospace !important;
        }

        div.refsect2 td {
            background-color: #e6e6e6;
            font: normal 16px courier new, monospace !important;
			white-space:pre;
        }

        /* COPYRIGHT: This style formats the text of the copyright statement at the bottom of the page */
        div.refsect3 {
            font: normal 11px verdana, sans-serif;
            margin-top: 50px;
            margin-bottom: 20px;
            padding-top: 0;
            padding-bottom: 0;
        }
					
</style>
    <title>clEnqueueMapImage</title>
    <meta name="generator" content="DocBook XSL Stylesheets V1.75.1" />
    <meta name="keywords" content="         &#10;                clEnqueueMapImage &#10;            " />
  </head>
  <body>
    <div class="refentry" title="clEnqueueMapImage">
      <a id="id2932203"></a>
      <div class="titlepage"></div>
      <div xmlns="" class="refnamediv">
        <a xmlns="http://www.w3.org/1999/xhtml" id="clEnqueueMapImage"></a>
        <h1>     
            clEnqueueMapImage 
        </h1>
        <p>          
            Enqueues a command to map a region of an image object into the host address space and returns a pointer to this mapped region.
        </p>
      </div>
      <div class="refsynopsisdiv">
        <h2></h2>
        <div class="funcsynopsis">
          <table xmlns="" border="0" summary="Function synopsis" cellspacing="0" cellpadding="0">
            <tr valign="bottom">
              <td>
                <code xmlns="http://www.w3.org/1999/xhtml" class="funcdef">              
                    <a class="link" href="scalarDataTypes.html" target="_top">void</a> * <b class="fsfunc">clEnqueueMapImage </b>
                (</code>
                <td><a xmlns="http://www.w3.org/1999/xhtml" class="link" href="abstractDataTypes.html" target="_top">cl_command_queue</a> <var xmlns="http://www.w3.org/1999/xhtml" class="pdparam">command_queue</var>, </td>
              </td>
            </tr>
            <tr valign="top">
              <td> </td>
              <td><a xmlns="http://www.w3.org/1999/xhtml" class="link" href="abstractDataTypes.html" target="_top">cl_mem</a> <var xmlns="http://www.w3.org/1999/xhtml" class="pdparam">image</var>, </td>
            </tr>
            <tr valign="top">
              <td> </td>
              <td><a xmlns="http://www.w3.org/1999/xhtml" class="link" href="enums.html#cl_bool" target="_top">cl_bool</a> <var xmlns="http://www.w3.org/1999/xhtml" class="pdparam">blocking_map</var>, </td>
            </tr>
            <tr valign="top">
              <td> </td>
              <td><a xmlns="http://www.w3.org/1999/xhtml" class="link" href="enums.html#cl_bool" target="_top">cl_map_flags</a> <var xmlns="http://www.w3.org/1999/xhtml" class="pdparam">map_flags</var>, </td>
            </tr>
            <tr valign="top">
              <td> </td>
              <td>const <a xmlns="http://www.w3.org/1999/xhtml" class="link" href="scalarDataTypes.html" target="_top">size_t</a> <var xmlns="http://www.w3.org/1999/xhtml" class="pdparam">origin</var>[3], </td>
            </tr>
            <tr valign="top">
              <td> </td>
              <td>const <a xmlns="http://www.w3.org/1999/xhtml" class="link" href="scalarDataTypes.html" target="_top">size_t</a> <var xmlns="http://www.w3.org/1999/xhtml" class="pdparam">region</var>[3], </td>
            </tr>
            <tr valign="top">
              <td> </td>
              <td><a xmlns="http://www.w3.org/1999/xhtml" class="link" href="scalarDataTypes.html" target="_top">size_t</a> <var xmlns="http://www.w3.org/1999/xhtml" class="pdparam">*image_row_pitch</var>, </td>
            </tr>
            <tr valign="top">
              <td> </td>
              <td><a xmlns="http://www.w3.org/1999/xhtml" class="link" href="scalarDataTypes.html" target="_top">size_t</a> <var xmlns="http://www.w3.org/1999/xhtml" class="pdparam">*image_slice_pitch</var>, </td>
            </tr>
            <tr valign="top">
              <td> </td>
              <td><a xmlns="http://www.w3.org/1999/xhtml" class="link" href="scalarDataTypes.html" target="_top">cl_uint</a> <var xmlns="http://www.w3.org/1999/xhtml" class="pdparam">num_events_in_wait_list</var>, </td>
            </tr>
            <tr valign="top">
              <td> </td>
              <td>const <a xmlns="http://www.w3.org/1999/xhtml" class="link" href="abstractDataTypes.html" target="_top">cl_event</a> <var xmlns="http://www.w3.org/1999/xhtml" class="pdparam">*event_wait_list</var>, </td>
            </tr>
            <tr valign="top">
              <td> </td>
              <td><a xmlns="http://www.w3.org/1999/xhtml" class="link" href="abstractDataTypes.html" target="_top">cl_event</a> <var xmlns="http://www.w3.org/1999/xhtml" class="pdparam">*event</var>, </td>
            </tr>
            <tr valign="top">
              <td> </td>
              <td><a xmlns="http://www.w3.org/1999/xhtml" class="link" href="scalarDataTypes.html" target="_top">cl_int</a> <var xmlns="http://www.w3.org/1999/xhtml" class="pdparam">*errcode_ret</var><code>)</code></td>
            </tr>
          </table>
        </div>
      </div>
      <div class="refsect1" title="Parameters">
        <a id="parameters"></a>
        <h2>Parameters</h2>
        <div class="variablelist">
          <dl>
            <dt>
              <span class="term">
                    <code class="varname">
						command_queue
                    </code>
                </span>
            </dt>
            <dd>
              <p> 
						Must be a valid command-queue. 
                    </p>
            </dd>
            <dt>
              <span class="term">
                    <code class="varname">
						image
                    </code>
                </span>
            </dt>
            <dd>
              <p>
						A valid image object. The OpenCL context associated with <code class="varname">command_queue</code> and <code class="varname">image</code> must be the same.
                    </p>
            </dd>
            <dt>
              <span class="term">
                    <code class="varname">
						blocking_map
					</code>
				</span>
            </dt>
            <dd>
              <p>
						Indicates if the map operation is <code class="varname">blocking</code> or <code class="varname">non-blocking</code>. If <code class="varname">blocking_map</code> is <code class="constant">CL_TRUE</code>, <code class="function">clEnqueueMapImage </code> does not return until the specified region in <code class="varname">image</code> can be mapped.
					</p>
              <p>
						If <code class="varname">blocking_map</code> is <code class="constant">CL_FALSE</code> i.e. map operation is non-blocking, the pointer to the mapped region returned by <code class="function">clEnqueueMapImage</code> cannot be used until the map command has completed. The <code class="varname">event</code> argument returns an event object which can be used to query the execution status of the map command. When the map command is completed, the application can access the contents of the mapped region using the pointer returned by <code class="function">clEnqueueMapImage</code>.
					</p>
            </dd>
            <dt>
              <span class="term">
                    <code class="varname">
						map_flags
                    </code>
                </span>
            </dt>
            <dd>
              <p>
						Is a bit-field and can be set to <code class="constant">CL_MAP_READ</code> to indicate that the region specified by (<code class="varname">origin</code>, <code class="varname">region</code>) in the image object is being mapped for reading, and/or <code class="constant">CL_MAP_WRITE</code> to indicate that the region specified by (<code class="varname">origin</code>, <code class="varname">region</code>) in the image object is being mapped for writing.
                    </p>
            </dd>
            <dt>
              <span class="term">
                    <code class="varname">
						origin,
					</code>
					<code class="varname">
						region
					</code>
                </span>
            </dt>
            <dd>
              <p> 
						Define the (<span class="emphasis"><em>x, y, z</em></span>) offset in pixels and (<code class="varname">width</code>, <code class="varname">height</code>, <code class="varname">depth</code>) in pixels of the 2D or 3D rectangle region that is to be mapped. If <code class="varname">image</code> is a 2D image object, the <span class="emphasis"><em>z</em></span> value given by <code class="varname">origin</code>[2] must be 0 and the <code class="varname">depth</code> value given by <code class="varname">region</code>[2] must be 1.
                    </p>
            </dd>
            <dt>
              <span class="term">
                    <code class="varname">
						image_row_pitch
                    </code>
                </span>
            </dt>
            <dd>
              <p>
						Returns the scan-line pitch in bytes for the mapped region. This must be a non-NULL value.
                    </p>
            </dd>
            <dt>
              <span class="term">
                    <code class="varname">
						image_slice_pitch
                    </code>
                </span>
            </dt>
            <dd>
              <p>
						Returns the size in bytes of each 2D slice for the mapped region. For a 2D image, zero is returned if this argument is not NULL. For a 3D image, <code class="varname">image_slice_pitch</code> must be a non-NULL value.
                    </p>
            </dd>
            <dt>
              <span class="term">
                    <code class="varname">
						event_wait_list
					,</code>
					<code class="varname">
						num_events_in_wait_list
					</code>
				</span>
            </dt>
            <dd>
              <p>
						Specify events that need to complete before <code class="function">clEnqueueMapImage</code> can be executed. If <code class="varname">event_wait_list</code> is NULL, then <code class="function">clEnqueueMapImage</code> does not wait on any event to complete. If <code class="varname">event_wait_list</code> is NULL, <code class="varname">num_events_in_wait_list</code> must be 0. If <code class="varname">event_wait_list</code> is not NULL, the list of events pointed to by <code class="varname">event_wait_list</code> must be valid and<code class="varname">num_events_in_wait_list</code> must be greater than 0. The events specified in <code class="varname">event_wait_list</code> act as synchronization points. The context associated with events in <code class="varname">event_wait_list</code> and <code class="varname">command_queue</code> must be the same.
                    </p>
            </dd>
            <dt>
              <span class="term">
                    <code class="varname">
						event
					</code>
				</span>
            </dt>
            <dd>
              <p>
						Returns an event object that identifies this particular copy command and can be used to query or queue a wait for this particular command to complete. <code class="varname">event</code> can be NULL in which case it will not be possible for the application to query the status of this command or queue a wait for this command to complete. 		
					</p>
            </dd>
            <dt>
              <span class="term">
                    <code class="varname">
						errcode_ret
					</code>
				</span>
            </dt>
            <dd>
              <p>
					Returns an appropriate error code. If <code class="varname">errcode_ret</code> is NULL, no error code is returned.
				</p>
            </dd>
          </dl>
        </div>
      </div>
      <div class="refsect1" title="Notes">
        <a id="notes"></a>
        <h2>Notes</h2>
        <p>
			If the buffer or image object is created with <code class="constant">CL_MEM_USE_HOST_PTR</code> set in <code class="varname">mem_flags</code>, the following will be true:
        </p>
        <div class="itemizedlist">
          <ul class="itemizedlist" type="disc">
            <li class="listitem" style="list-style-type: disc">
				The <code class="varname">host_ptr</code> specified in <a class="citerefentry" href="clCreateBuffer.html"><span class="citerefentry"><span class="refentrytitle">clCreateBuffer</span></span></a>,  <a class="citerefentry" href="clCreateImage2D.html"><span class="citerefentry"><span class="refentrytitle">clCreateImage2D</span></span></a>, or <a class="citerefentry" href="clCreateImage3D.html"><span class="citerefentry"><span class="refentrytitle">clCreateImage3D</span></span></a> is guaranteed to contain the latest bits in the region being mapped when the  <a class="citerefentry" href="clEnqueueMapBuffer.html"><span class="citerefentry"><span class="refentrytitle">clEnqueueMapBuffer</span></span></a> or <code class="function">clEnqueueMapImage</code> command has completed.
			</li>
            <li class="listitem" style="list-style-type: disc">
				The pointer value returned by <a class="citerefentry" href="clEnqueueMapBuffer.html"><span class="citerefentry"><span class="refentrytitle">clEnqueueMapBuffer</span></span></a> or <code class="function">clEnqueueMapImage</code> will be derived from the <code class="varname">host_ptr</code> specified when the buffer or image object is created.
			</li>
          </ul>
        </div>
        <p>
		The contents of the regions of a memory object mapped for writing (i.e. <code class="constant">CL_MAP_WRITE</code> is set
in <code class="varname">map_flags</code> argument to <a class="citerefentry" href="clEnqueueMapBuffer.html"><span class="citerefentry"><span class="refentrytitle">clEnqueueMapBuffer</span></span></a> or <code class="function">clEnqueueMapImage</code>) are considered to be
undefined until this region is unmapped. Reads and writes by a kernel executing on a device to a
memory region(s) mapped for writing are undefined.
        </p>
        <p>
Multiple command-queues can map a region or overlapping regions of a memory object for
reading (i.e. <code class="varname">map_flags</code> = <code class="constant">CL_MAP_READ</code>). The contents of the regions of a memory object
mapped for reading can also be read by kernels executing on a device(s). The behavior of writes
by a kernel executing on a device to a mapped region of a memory object is undefined.
Mapping (and unmapping) overlapped regions of a buffer or image memory object for writing is
undefined.
        </p>
        <p>
The behavior of OpenCL function calls that enqueue commands that write or copy to regions of a
memory object that are mapped is undefined.
		</p>
      </div>
      <div class="refsect1" title="Errors">
        <a id="errors"></a>
        <h2>Errors</h2>
        <p>
			<code class="function">clEnqueueMapImage</code> will return a pointer to the mapped region if the function is executed successfully. 
			The <code class="varname">errcode_ret</code> is set to <span class="errorname">CL_SUCCESS</span>.
		</p>
        <p>
			A NULL pointer is returned otherwise with one of the following error values returned in
			<code class="varname">errcode_ret</code>:
		</p>
        <div class="itemizedlist">
          <ul class="itemizedlist" type="disc">
            <li class="listitem" style="list-style-type: disc"><span class="errorname">CL_INVALID_COMMAND_QUEUE</span> if <code class="varname">command_queue</code> is not a valid command-queue.
			</li>
            <li class="listitem" style="list-style-type: disc"><span class="errorname">CL_INVALID_CONTEXT</span> if the context associated with <code class="varname">command_queue</code> and <code class="varname">image</code>
				are not the same or if the context associated with <code class="varname">command_queue</code> and events
				in <code class="varname">event_wait_list</code> are not the same.
			</li>
            <li class="listitem" style="list-style-type: disc"><span class="errorname">CL_INVALID_MEM_OBJECT</span> if <code class="varname">image</code> is not a valid image object.
			</li>
            <li class="listitem" style="list-style-type: disc"><span class="errorname">CL_INVALID_VALUE</span> if region being mapped given by (<code class="varname">origin</code>, <code class="varname">origin</code>+<code class="varname">region</code>) is out of bounds or if
				values specified in <code class="varname">map_flags</code> are not valid.
			</li>
            <li class="listitem" style="list-style-type: disc"><span class="errorname">CL_INVALID_VALUE</span> if <code class="varname">image</code> is a 2D image object and <code class="varname">origin</code>[2] is not equal to 0 or
				<code class="varname">region</code>[2] is not equal to 1.
			</li>
            <li class="listitem" style="list-style-type: disc"><span class="errorname">CL_INVALID_VALUE</span> if <code class="varname">image_row_pitch</code> is NULL.
			</li>
            <li class="listitem" style="list-style-type: disc"><span class="errorname">CL_INVALID_VALUE</span> if <code class="varname">image</code> is a 3D image object and <code class="varname">image_slice_pitch</code> is NULL.
			</li>
            <li class="listitem" style="list-style-type: disc"><span class="errorname">CL_INVALID_EVENT_WAIT_LIST</span> if <code class="varname">event_wait_list</code> is NULL and
				<code class="varname">num_events_in_wait_list</code> greater than 0, or <code class="varname">event_wait_list</code> is not NULL and
				<code class="varname">num_events_in_wait_list</code> is 0, or if event objects in <code class="varname">event_wait_list</code> are not valid events.
			</li>
            <li class="listitem" style="list-style-type: disc"><span class="errorname">CL_MAP_FAILURE</span> if there is a failure to map the requested region into the host address
				space. This error cannot occur for image objects created with <code class="constant">CL_MEM_USE_HOST_PTR</code>
				or <code class="constant">CL_MEM_ALLOC_HOST_PTR</code>.
			</li>
            <li class="listitem" style="list-style-type: disc"><span class="errorname">CL_MEM_OBJECT_ALLOCATION_FAILURE</span> if there is a failure to allocate memory for
				data store associated with <code class="varname">image</code>.
			</li>
            <li class="listitem" style="list-style-type: disc"><code class="varname">errcode_ret</code> returns <span class="errorname">CL_OUT_OF_HOST_MEMORY</span> if there is a failure to allocate resources required by the
				OpenCL implementation on the host.
			</li>
          </ul>
        </div>
        <p>
				The pointer returned maps a 2D or 3D region starting at <code class="varname">origin</code> and is atleast (<code class="varname">image_row_pitch</code> *
<code class="varname">region[1]</code> + <code class="varname">region[0]</code>) pixels in size for a 2D image, and is atleast (<code class="varname">image_slice_pitch</code> *
<code class="varname">region</code>[2] + <code class="varname">image_row_pitch</code> * <code class="varname">region[1]</code> + <code class="varname">region[0]</code>) pixels in size for a 3D image. The result
of a memory access outside this region is undefined.
			</p>
      </div>
      <div class="refsect1" title="Specification">
        <a id="specification"></a>
        <h2>Specification</h2>
        <p>
            <img src="pdficon_small1.gif" />
			
				      
            <a href="http://www.khronos.org/registry/cl/specs/opencl-1.x-latest.pdf#namedest=clEnqueueMapImage " target="OpenCL Spec">OpenCL Specification</a>
        </p>
      </div>
      <div class="refsect1" title="Also see">
        <a id="seealso"></a>
        <h2>Also see</h2>
        <p>
            <a class="citerefentry" href="clEnqueueMapBuffer.html"><span class="citerefentry"><span class="refentrytitle">clEnqueueMapBuffer</span></span></a>, 
            <a class="citerefentry" href="clEnqueueUnmapMemObject.html"><span class="citerefentry"><span class="refentrytitle">clEnqueueUnmapMemObject</span></span></a>
        </p>
      </div>
      <div xmlns="" class="refsect3" lang="en" xml:lang="en"><a xmlns="http://www.w3.org/1999/xhtml" id="Copyright"></a><h4 xmlns="http://www.w3.org/1999/xhtml"></h4><img xmlns="http://www.w3.org/1999/xhtml" src="KhronosLogo.jpg" /><p xmlns="http://www.w3.org/1999/xhtml"></p>Copyright © 2007-2009 The Khronos Group Inc. 
Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and/or associated documentation files (the
"Materials"), to deal in the Materials without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Materials, and to
permit persons to whom the Materials are furnished to do so, subject to
the condition that this copyright notice and permission notice shall be included
in all copies or substantial portions of the Materials. 
</div>
    </div>
  </body>
</html>
